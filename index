<!DOCTYPE html>
<html>
<head>
<base target="_top">
<meta charset="UTF-8">
<title>سیستم مدیریت بیماران اردوی جهادی</title>
<style>
body {
font-family: 'Tahoma', 'Arial', sans-serif;
margin: 0;
padding: 0;
direction: rtl;
background-color: #f5f5f5;
}

.container {
max-width: 1000px;
margin: 0 auto;
padding: 20px;
}

header {
background-color: #4285f4;
color: white;
padding: 20px;
text-align: center;
margin-bottom: 20px;
border-radius: 5px;
}

.section {
background-color: white;
border-radius: 5px;
padding: 20px;
margin-bottom: 20px;
box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

h1, h2, h3 {
color: #333;
}

.form-group {
margin-bottom: 15px;
}

label {
display: block;
margin-bottom: 5px;
font-weight: bold;
}

input[type="text"],
input[type="number"],
input[type="tel"],
select,
textarea {
width: 100%;
padding: 8px;
border: 1px solid #ddd;
border-radius: 4px;
box-sizing: border-box;
font-family: 'Tahoma', 'Arial', sans-serif;
direction: rtl;
}

button {
background-color: #4285f4;
color: white;
border: none;
padding: 10px 15px;
border-radius: 4px;
cursor: pointer;
font-size: 16px;
font-family: 'Tahoma', 'Arial', sans-serif;
}

button:hover {
background-color: #3367d6;
}

.tab {
overflow: hidden;
border: 1px solid #ccc;
background-color: #f1f1f1;
border-radius: 5px 5px 0 0;
}

.tab button {
background-color: inherit;
float: right;
border: none;
outline: none;
cursor: pointer;
padding: 14px 16px;
transition: 0.3s;
font-size: 17px;
color: #333;
}

.tab button:hover {
background-color: #ddd;
}

.tab button.active {
background-color: #4285f4;
color: white;
}

.tabcontent {
display: none;
padding: 20px;
border: 1px solid #ccc;
border-top: none;
border-radius: 0 0 5px 5px;
animation: fadeEffect 1s;
background-color: white;
}

@keyframes fadeEffect {
from {opacity: 0;}
to {opacity: 1;}
}

.success-message {
background-color: #4CAF50;
color: white;
padding: 10px;
border-radius: 4px;
margin-bottom: 15px;
display: none;
}

.error-message {
background-color: #f44336;
color: white;
padding: 10px;
border-radius: 4px;
margin-bottom: 15px;
display: none;
}

.patient-card {
border: 1px solid #ddd;
border-radius: 5px;
padding: 15px;
margin-bottom: 15px;
background-color: #f9f9f9;
}

.patient-search {
margin-bottom: 20px;
}

.treatment-history {
border-collapse: collapse;
width: 100%;
}

.treatment-history th, .treatment-history td {
border: 1px solid #ddd;
padding: 8px;
text-align: right;
}

.treatment-history th {
background-color: #4285f4;
color: white;
}

.treatment-history tr:nth-child(even) {
background-color: #f2f2f2;
}

#loading {
display: none;
text-align: center;
padding: 20px;
}
</style>
</head>

<body>
<div class="container">
<header>
<h1>سیستم مدیریت بیماران اردوی جهادی</h1>
</header>

<div class="section">
<div class="tab">
<button class="tablinks active" onclick="openTab(event, 'triage')">تریاژ</button>
<button class="tablinks" onclick="openTab(event, 'medicalDiagnosis')">تشخیص پزشکی</button>
<button class="tablinks" onclick="openTab(event, 'dentalTreatment')">طرح دندانپزشکی</button>
<button class="tablinks" onclick="openTab(event, 'treatments')">ثبت درمان‌ها</button>
<button class="tablinks" onclick="openTab(event, 'patientHistory')">سوابق بیمار</button>
</div>

<div id="triage" class="tabcontent" style="display: block;">
<h2>تریاژ بیمار</h2>
<div class="success-message" id="triageSuccess">اطلاعات تریاژ با موفقیت ثبت شد.</div>
<div class="error-message" id="triageError"></div>

<form id="triageForm">
<h3>اطلاعات پایه بیمار</h3>
<div class="form-group">
<label for="patientId">کد بیمار (اتوماتیک تولید می‌شود):</label>
<input type="text" id="patientId" name="patientId" readonly>
</div>

<div class="form-group">
<label for="firstName">نام:</label>
<input type="text" id="firstName" name="firstName" required>
</div>

<div class="form-group">
<label for="lastName">نام خانوادگی:</label>
<input type="text" id="lastName" name="lastName" required>
</div>

<div class="form-group">
<label for="age">سن:</label>
<input type="number" id="age" name="age" required>
</div>

<div class="form-group">
<label for="gender">جنسیت:</label>
<select id="gender" name="gender" required>
<option value="">انتخاب کنید</option>
<option value="مرد">مرد</option>
<option value="زن">زن</option>
</select>
</div>

<div class="form-group">
<label for="phone">شماره تلفن:</label>
<input type="tel" id="phone" name="phone">
</div>

<div class="form-group">
<label for="address">آدرس:</label>
<textarea id="address" name="address" rows="3"></textarea>
</div>

<h3>علائم حیاتی</h3>

<div class="form-group">
<label for="bloodPressure">فشار خون (میلی‌متر جیوه):</label>
<input type="text" id="bloodPressure" name="bloodPressure" placeholder="مثال: 120/80">
</div>

<div class="form-group">
<label for="bloodSugar">قند خون (میلی‌گرم/دسی‌لیتر):</label>
<input type="number" id="bloodSugar" name="bloodSugar">
</div>

<div class="form-group">
<label for="temperature">دمای بدن (سانتی‌گراد):</label>
<input type="number" id="temperature" name="temperature" step="0.1">
</div>

<div class="form-group">
<label for="chiefComplaint">شکایت اصلی:</label>
<textarea id="chiefComplaint" name="chiefComplaint" rows="3" required></textarea>
</div>

<button type="button" onclick="submitTriage()">ثبت اطلاعات تریاژ</button>
</form>
</div>

<div id="medicalDiagnosis" class="tabcontent">
<h2>تشخیص پزشکی</h2>
<div class="success-message" id="diagnosisSuccess">تشخیص پزشکی با موفقیت ثبت شد.</div>
<div class="error-message" id="diagnosisError"></div>

<div class="patient-search">
<div class="form-group">
<label for="patientSearchMedical">جستجوی بیمار:</label>
<input type="text" id="patientSearchMedical" placeholder="نام، نام خانوادگی یا کد بیمار را وارد کنید">
<button type="button" onclick="searchPatientForMedical()">جستجو</button>
</div>
</div>

<div id="patientInfoMedical" class="patient-card" style="display: none;">
<!-- اطلاعات بیمار اینجا نمایش داده می‌شود -->
</div>

<form id="diagnosisForm" style="display: none;">
<input type="hidden" id="diagnosisPatientId" name="diagnosisPatientId">

<div class="form-group">
<label for="diagnosis">تشخیص پزشکی:</label>
<textarea id="diagnosis" name="diagnosis" rows="3" required></textarea>
</div>

<div class="form-group">
<label for="medicalPlan">طرح درمان پزشکی:</label>
<textarea id="medicalPlan" name="medicalPlan" rows="3" required></textarea>
</div>

<div class="form-group">
<label for="referrals">ارجاعات:</label>
<select id="referrals" name="referrals" multiple>
<option value="دندانپزشکی">دندانپزشکی</option>
<option value="داخلی">داخلی</option>
<option value="قلب">قلب</option>
<option value="چشم">چشم</option>
<option value="پوست">پوست</option>
<option value="زنان">زنان</option>
<option value="اطفال">اطفال</option>
<option value="روانپزشکی">روانپزشکی</option>
<option value="سایر">سایر</option>
</select>
<small>برای انتخاب چند مورد، کلید Ctrl را نگه دارید.</small>
</div>

<div class="form-group">
<label for="medications">داروهای تجویز شده:</label>
<textarea id="medications" name="medications" rows="3"></textarea>
</div>

<button type="button" onclick="submitDiagnosis()">ثبت تشخیص پزشکی</button>
</form>
</div>

<div id="dentalTreatment" class="tabcontent">
<h2>طرح درمان دندانپزشکی</h2>
<div class="success-message" id="dentalSuccess">طرح درمان دندانپزشکی با موفقیت ثبت شد.</div>
<div class="error-message" id="dentalError"></div>

<div class="patient-search">
<div class="form-group">
<label for="patientSearchDental">جستجوی بیمار:</label>
<input type="text" id="patientSearchDental" placeholder="نام، نام خانوادگی یا کد بیمار را وارد کنید">
<button type="button" onclick="searchPatientForDental()">جستجو</button>
</div>
</div>

<div id="patientInfoDental" class="patient-card" style="display: none;">
<!-- اطلاعات بیمار اینجا نمایش داده می‌شود -->
</div>

<form id="dentalForm" style="display: none;">
<input type="hidden" id="dentalPatientId" name="dentalPatientId">

<div class="form-group">
<label for="dentalDiagnosis">تشخیص دندانپزشکی:</label>
<textarea id="dentalDiagnosis" name="dentalDiagnosis" rows="3" required></textarea>
</div>

<div class="form-group">
<label for="dentalTreatmentPlan">طرح درمان دندانپزشکی:</label>
<textarea id="dentalTreatmentPlan" name="dentalTreatmentPlan" rows="3" required></textarea>
</div>

<div class="form-group">
<label>دندان‌های نیازمند درمان:</label>
<div style="display: flex; flex-wrap: wrap; gap: 10px;">
<!-- بالا راست -->
<div style="width: 45%;">
<label>فک بالا - سمت راست:</label>
<div style="display: flex; flex-wrap: wrap; gap: 5px;">
<div style="padding: 5px;">
<input type="checkbox" id="tooth1" name="teeth" value="1">
<label for="tooth1">1</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth2" name="teeth" value="2">
<label for="tooth2">2</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth3" name="teeth" value="3">
<label for="tooth3">3</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth4" name="teeth" value="4">
<label for="tooth4">4</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth5" name="teeth" value="5">
<label for="tooth5">5</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth6" name="teeth" value="6">
<label for="tooth6">6</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth7" name="teeth" value="7">
<label for="tooth7">7</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth8" name="teeth" value="8">
<label for="tooth8">8</label>
</div>
</div>
</div>

<!-- بالا چپ -->
<div style="width: 45%;">
<label>فک بالا - سمت چپ:</label>
<div style="display: flex; flex-wrap: wrap; gap: 5px;">
<div style="padding: 5px;">
<input type="checkbox" id="tooth9" name="teeth" value="9">
<label for="tooth9">9</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth10" name="teeth" value="10">
<label for="tooth10">10</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth11" name="teeth" value="11">
<label for="tooth11">11</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth12" name="teeth" value="12">
<label for="tooth12">12</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth13" name="teeth" value="13">
<label for="tooth13">13</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth14" name="teeth" value="14">
<label for="tooth14">14</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth15" name="teeth" value="15">
<label for="tooth15">15</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth16" name="teeth" value="16">
<label for="tooth16">16</label>
</div>
</div>
</div>

<!-- پایین راست -->
<div style="width: 45%;">
<label>فک پایین - سمت راست:</label>
<div style="display: flex; flex-wrap: wrap; gap: 5px;">
<div style="padding: 5px;">
<input type="checkbox" id="tooth17" name="teeth" value="17">
<label for="tooth17">17</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth18" name="teeth" value="18">
<label for="tooth18">18</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth19" name="teeth" value="19">
<label for="tooth19">19</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth20" name="teeth" value="20">
<label for="tooth20">20</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth21" name="teeth" value="21">
<label for="tooth21">21</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth22" name="teeth" value="22">
<label for="tooth22">22</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth23" name="teeth" value="23">
<label for="tooth23">23</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth24" name="teeth" value="24">
<label for="tooth24">24</label>
</div>
</div>
</div>

<!-- پایین چپ -->
<div style="width: 45%;">
<label>فک پایین - سمت چپ:</label>
<div style="display: flex; flex-wrap: wrap; gap: 5px;">
<div style="padding: 5px;">
<input type="checkbox" id="tooth25" name="teeth" value="25">
<label for="tooth25">25</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth26" name="teeth" value="26">
<label for="tooth26">26</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth27" name="teeth" value="27">
<label for="tooth27">27</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth28" name="teeth" value="28">
<label for="tooth28">28</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth29" name="teeth" value="29">
<label for="tooth29">29</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth30" name="teeth" value="30">
<label for="tooth30">30</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth31" name="teeth" value="31">
<label for="tooth31">31</label>
</div>
<div style="padding: 5px;">
<input type="checkbox" id="tooth32" name="teeth" value="32">
<label for="tooth32">32</label>
</div>
</div>
</div>
</div>
</div>

<div class="form-group">
<label for="dentalProcedures">نوع درمان‌های لازم:</label>
<select id="dentalProcedures" name="dentalProcedures" multiple>
<option value="کشیدن">کشیدن دندان</option>
<option value="پر کردن">پر کردن دندان</option>
<option value="عصب کشی">عصب کشی</option>
<option value="جرم گیری">جرم گیری</option>
<option value="روکش">روکش</option>
<option value="اطفال">دندانپزشکی اطفال</option>
<option value="سایر">سایر</option>
</select>
<small>برای انتخاب چند مورد، کلید Ctrl را نگه دارید.</small>
</div>

<div class="form-group">
<label for="dentalNotes">توضیحات اضافی:</label>
<textarea id="dentalNotes" name="dentalNotes" rows="3"></textarea>
</div>

<button type="button" onclick="submitDentalTreatment()">ثبت طرح درمان دندانپزشکی</button>
</form>
</div>

<div id="treatments" class="tabcontent">
<h2>ثبت درمان‌های انجام شده</h2>
<div class="success-message" id="treatmentSuccess">درمان با موفقیت ثبت شد.</div>
<div class="error-message" id="treatmentError"></div>

<div class="patient-search">
<div class="form-group">
<label for="patientSearchTreatment">جستجوی بیمار:</label>
<input type="text" id="patientSearchTreatment" placeholder="نام، نام خانوادگی یا کد بیمار را وارد کنید">
<button type="button" onclick="searchPatientForTreatment()">جستجو</button>
</div>
</div>

<div id="patientInfoTreatment" class="patient-card" style="display: none;">
<!-- اطلاعات بیمار اینجا نمایش داده می‌شود -->
</div>

<form id="treatmentForm" style="display: none;">
<input type="hidden" id="treatmentPatientId" name="treatmentPatientId">

<div class="form-group">
<label for="treatmentType">نوع درمان:</label>
<select id="treatmentType" name="treatmentType" required>
<option value="">انتخاب کنید</option>
<option value="پزشکی">درمان پزشکی</option>
<option value="دندانپزشکی">درمان دندانپزشکی</option>
</select>
</div>

<div class="form-group">
<label for="treatmentDetails">جزئیات درمان انجام شده:</label>
<textarea id="treatmentDetails" name="treatmentDetails" rows="3" required></textarea>
</div>

<div class="form-group" id="toothNumberContainer" style="display: none;">
<label for="toothNumber">شماره دندان (در صورت درمان دندانپزشکی):</label>
<input type="number" id="toothNumber" name="toothNumber" min="1" max="32">
</div>

<div class="form-group">
<label for="treatmentNotes">توضیحات اضافی:</label>
<textarea id="treatmentNotes" name="treatmentNotes" rows="3"></textarea>
</div>

<div class="form-group">
<label for="medicationsPrescribed">داروهای تجویز شده:</label>
<textarea id="medicationsPrescribed" name="medicationsPrescribed" rows="3"></textarea>
</div>

<div class="form-group">
<label for="treatedBy">درمانگر:</label>
<input type="text" id="treatedBy" name="treatedBy" required>
</div>

<button type="button" onclick="submitTreatment()">ثبت درمان</button>
</form>
</div>

<div id="patientHistory" class="tabcontent">
<h2>سوابق بیمار</h2>
<div class="error-message" id="historyError"></div>

<div class="patient-search">
<div class="form-group">
<label for="patientSearchHistory">جستجوی بیمار:</label>
<input type="text" id="patientSearchHistory" placeholder="نام، نام خانوادگی یا کد بیمار را وارد کنید">
<button type="button" onclick="searchPatientForHistory()">جستجو</button>
</div>
</div>

<div id="patientInfoHistory" class="patient-card" style="display: none;">
<!-- اطلاعات بیمار اینجا نمایش داده می‌شود -->
</div>

<div id="loading">در حال بارگذاری اطلاعات...</div>

<div id="patientHistoryContainer" style="display: none;">
<h3>اطلاعات تریاژ</h3>
<div id="triageInfo" class="patient-card">
<!-- اطلاعات تریاژ اینجا نمایش داده می‌شود -->
</div>

<h3>تشخیص‌های پزشکی
